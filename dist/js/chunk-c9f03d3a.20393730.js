(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9f03d3a"],{"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),s=n("2d00"),a=i("species");e.exports=function(e){return s>=51||!r((function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},4297:function(e,t,n){"use strict";var r=n("4583"),i=n.n(r);i.a},4583:function(e,t,n){},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,s=n("1dde"),a=n("ae40"),c=s("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!c||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),s=n("b622"),a=s("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,s=n("44d2"),a=n("ae40"),c="find",u=!0,o=a(c);c in[]&&Array(1)[c]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!o},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(c)},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),s=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,s(0,n)):e[a]=n}},"93b7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.currentSchedule?n("div",{staticClass:"schedule-body"},[n("div",{staticClass:"schedule-info"},[n("div",{staticStyle:{"text-align":"center"}},[n("h1",{staticStyle:{color:"white"}},[n("span",{staticClass:"orange-underline"},[e._v(e._s(e.currentSchedule.date))])])]),n("div",{staticClass:"phoneNumbers"},[n("div",{staticClass:"phoneNumbers-header",on:{click:function(t){return e.showHideDuty()}}},[e._v("On Duty This Weekend"),e.displayOnDuty?e._e():n("i",{staticClass:"fa fa-caret-up",staticStyle:{"margin-left":"1em",position:"relative",top:"0.2em"}}),e.displayOnDuty?n("i",{staticClass:"fa fa-caret-down",staticStyle:{"margin-left":"1em",position:"relative",top:"0.2em"}}):e._e()]),n("div",{staticClass:"phoneNumbers-content"},[n("div",{staticClass:"phoneNumebrs-row"},[n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[0].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[0].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[0].phoneNumber))])]),n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[1].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[1].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[1].phoneNumber))])]),n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[2].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[2].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[2].phoneNumber))])])]),n("div",{staticClass:"phoneNumebrs-row"},[n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[3].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[3].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[3].phoneNumber))])]),n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[4].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[4].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[4].phoneNumber))])]),n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[5].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[5].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[5].phoneNumber))])])]),n("div",{staticClass:"phoneNumebrs-row"},[n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[6].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[6].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[6].phoneNumber))])]),n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[7].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[7].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[7].phoneNumber))])]),n("div",{staticClass:"phoneNumbers-item"},[n("b",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[8].dorm)+":")]),n("span",{staticStyle:{"margin-right":"1em"}},[e._v(e._s(e.currentSchedule.phoneNumbers[8].teacherName))]),n("span",[e._v(e._s(e.currentSchedule.phoneNumbers[8].phoneNumber))])])])])]),n("div",{staticClass:"schedule-container"},e._l(e.currentSchedule.scheduleDays,(function(t,r){return n("div",{key:r,staticClass:"schedule-day"},[n("h2",{staticStyle:{padding:"20px 40px","text-align":"center",background:"#3a3737",color:"#fff"}},[n("span",[e._v(e._s(t.date))])]),n("ul",e._l(t.events,(function(t,r){return n("li",{key:r,staticClass:"mx-2",staticStyle:{display:"flex",padding:"10px"},style:{background:e.getBackground(r)}},[n("u",[e._v(e._s(t.timeSlot))]),e._v("- "+e._s(t.name)+" "),t.signUp?n("div",[e._v("*")]):e._e()])})),0)])})),0),n("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.filtered(),(function(t,r){return n("div",{key:r,staticClass:"event-signup-item"},[n("div",{staticClass:"flex shadow-sm border justify-content-center text-center align-items-center h-screen m-1 rounded p-3",staticStyle:{background:"white"}},[n("div",{staticClass:"go-to-details",on:{click:function(n){return e.showModal(t.info,"friday")}}},[n("div",{staticClass:"rounded overflow-hidden"},[n("div",{staticClass:" p-l-6 pt-4 p-r-6"},[n("div",{staticClass:"mb-2",staticStyle:{"font-weight":"700","font-size":"1.25rem",height:"5em",display:"flex","justify-content":"center","align-items":"center",overflow:"auto"}},[e._v(e._s(t.info.name))]),n("div",{staticClass:"mb-2"},[e._v(e._s(t.info.timeSlot)+"-"),n("strong",[e._v(e._s(t.date))])]),e._m(0,!0)]),n("div",{staticClass:"p-l-6 p-r-6 pt-4 pb-4"},[n("span",{staticClass:"inline-block rounded-lg px-3 py-1 mr-2",staticStyle:{color:"#4a5568",background:"#edf2f7","font-weight":"600","font-size":".875rem"}},[e._v(" Max. "+e._s(t.info.personLimit)+" ")])])])]),n("div",{staticClass:"p-l-6 p-r-6 pb-4"},[n("div",{staticClass:"wrap"},[e.signedUp(t.info)?n("div",{staticClass:"button signedup",on:{click:function(n){return e.deleteFromEvent(t.info,t.date)}}},[e._v("Signed Up")]):n("div",{staticClass:"button",on:{click:function(n){return e.signUpEvent(t.info,t.date)}}},[e._v("Sign Up")])])])])])})),0)]),n("modal",{attrs:{name:"event-details"}},[e.currentEvent?n("div",{staticStyle:{width:"100%",height:"95%",padding:"10px",display:"flex","flex-direction":"column",overflow:"auto"}},[n("div",{staticStyle:{width:"100%",display:"flex","flex-direction":"column","align-items":"center"}},[n("div",{staticStyle:{width:"100%","background-color":"#f7931e",color:"white","font-weight":"600","font-size":"1.25em",padding:"0.25em 0em","text-align":"center","border-radius":"0.2em"}},[e._v("Users Signed Up")]),n("div",{staticStyle:{width:"95%","margin-top":"1em"}},[e._l(e.currentEvent.usersSignedUp,(function(t,r){return n("div",{key:r},[n("strong",[e._v(e._s(r+1)+".")]),e._v(" "+e._s(e.getFullName(t))+" "),e.currentUser.admin?n("button",{staticStyle:{border:"0px"},on:{click:function(t){return e.bumpToEnd(r)}}},[e._v("Bump to Waitlist")]):e._e(),n("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","padding-top":"0.5em"}},[n("div",{staticStyle:{width:"93%","border-bottom":"1.5px solid black"}})])])})),e.currentEvent.waitlist.length>0?n("u",[n("strong",[e._v("Waitlist"),n("br")])]):e._e(),e._l(e.currentEvent.waitlist,(function(t,r){return n("div",{key:r},[n("strong",[e._v(e._s(r+1)+".")]),e._v(" "+e._s(e.getFullName(t))+" "),n("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center","padding-top":"0.5em"}},[n("div",{staticStyle:{width:"93%","border-bottom":"1.5px solid black"}})])])}))],2)]),n("div",{staticStyle:{"justify-content":"space-between",display:"flex",margin:"5px"}},[e.currentUser.admin?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticStyle:{flex:"1","margin-right":"10px",padding:"7px"},attrs:{placeholder:"Optional Message.."},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}):e._e(),e.currentUser.admin?n("div",{staticClass:"wrap",staticStyle:{width:"50%"}},[n("div",{staticClass:"button",on:{click:function(t){return e.sendEmail(e.currentEvent)}}},[e._v("Notify Participants")])]):e._e()])]):e._e()])],1):e._e()},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticStyle:{color:"#4a5568","font-size":"1rem"}},[n("ol")])}],s=(n("99af"),n("4de4"),n("7db0"),n("c740"),n("a434"),n("b0c0"),n("d4ec")),a=n("bee2"),c=n("c427"),u=function(){function e(){Object(s["a"])(this,e)}return Object(a["a"])(e,[{key:"sendEmail",value:function(e,t){return c["a"].post("/sendEmail?userId="+t,e)}}]),e}(),o=new u,l=n("b02d"),d=n("2b0e"),h=n("1881"),m=n.n(h),p=n("f23d");n("202f");d["default"].use(m.a),d["default"].config.productionTip=!1,d["default"].use(p["a"]);var f={data:function(){return{currentSchedule:null,currentEvent:null,currentDate:null,currentUser:JSON.parse(localStorage.getItem("user")),message:"",displayOnDuty:!1}},computed:{},methods:{getBackground:function(e){return e%2==0?"rgba(215, 211, 211, 0.3)":"rgba(215, 211, 211, 0.1)"},bumpToEnd:function(e){var t=this;l["a"].get(this.currentSchedule.id).then((function(n){var r=n.data,i=r.scheduleDays.find((function(e){return e.date===t.currentDate})),s=i.events.find((function(e){return e.name===t.currentEvent.name}));s.waitlist.length>0&&s.usersSignedUp.push(s.waitlist.splice(0,1)[0]),s.waitlist.unshift(s.usersSignedUp.splice(e,1)[0]),l["a"].update(r.id,r)})),this.currentEvent.waitlist.length>0&&this.currentEvent.usersSignedUp.push(this.currentEvent.waitlist.splice(0,1)[0]),this.currentEvent.waitlist.unshift(this.currentEvent.usersSignedUp.splice(e,1)[0])},showModal:function(e,t){this.currentEvent=e,this.currentDate=t,this.$modal.show("event-details"),this.message=""},filtered:function(){if(this.currentSchedule){for(var e=[],t=0;t<this.currentSchedule.scheduleDays.length;t++)for(var n=0;n<this.currentSchedule.scheduleDays[t].events.length;n++)if(this.currentSchedule.scheduleDays[t].events[n].signUp){var r={info:this.currentSchedule.scheduleDays[t].events[n],date:this.currentSchedule.scheduleDays[t].date};e.push(r)}return e}return[]},getFullName:function(e){return e.userName},sendEmail:function(e){for(var t=this,n=e.usersSignedUp.concat(e.waitlist),r=0;r<n.length;r++)this.$message.info("Sending email..."),o.sendEmail({event:e,message:this.message},n[r].id).then((function(e){console.log(e),t.$message.success("Emails Successfully Sent!")}));this.message=""},getCurrentSchedule:function(){var e=this;l["a"].getCurrent().then((function(t){e.currentSchedule=t.data,console.log(t.data.scheduleDays)}))},getSchedule:function(e){var t=this;l["a"].get(e).then((function(e){t.currentSchedule=e.data}))},signUpEvent:function(e,t){var n=this;this.$message.success("Signed up for "+e.name);var r=e.usersSignedUp.length>=e.personLimit;r?e.waitlist.push(this.currentUser):e.usersSignedUp.push(this.currentUser),l["a"].get(this.currentSchedule.id).then((function(i){var s=i.data,a=s.scheduleDays.find((function(e){return e.date===t})),c=a.events.find((function(t){return t.name===e.name}));r?c.waitlist.push(n.currentUser):c.usersSignedUp.push(n.currentUser),l["a"].update(s.id,s)})),this.showModal(e,t)},deleteFromEvent:function(e,t){var n=this;if(confirm("Are you sure you want to be removed from the list?")){var r=e.usersSignedUp.findIndex((function(e){return e.id===n.currentUser.id})),i=e.waitlist.findIndex((function(e){return e.id===n.currentUser.id}));-1==r?e.waitlist.splice(i,1):e.usersSignedUp.splice(r,1),l["a"].get(this.currentSchedule.id).then((function(n){var s=n.data,a=s.scheduleDays.find((function(e){return e.date===t})),c=a.events.find((function(t){return t.name===e.name}));-1==r?c.waitlist.splice(i,1):c.usersSignedUp.splice(r,1),l["a"].update(s.id,s)})),this.$message.error("Removed from "+e.name),this.showModal(e,t)}},signedUp:function(e){var t=this;return e.usersSignedUp.filter((function(e){return e.id===t.currentUser.id})).length>0||e.waitlist.filter((function(e){return e.id===t.currentUser.id})).length>0},showHideDuty:function(){this.displayOnDuty=!this.displayOnDuty;var e="0px";e=window.innerWidth<900?"400px":"200px",this.displayOnDuty?(document.getElementsByClassName("phoneNumbers-content")[0].style.display="flex",setTimeout((function(){document.getElementsByClassName("phoneNumbers-content")[0].style.maxHeight=e}),10)):(document.getElementsByClassName("phoneNumbers-content")[0].style.maxHeight="0px",setTimeout((function(){document.getElementsByClassName("phoneNumbers-content")[0].style.display="none"}),300))}},mounted:function(){null==this.currentUser?(this.$message.error("Sign in to access this page"),window.location.href="/"):this.$route.params.id?this.getSchedule(this.$route.params.id):this.getCurrentSchedule()}},v=f,g=(n("4297"),n("2877")),b=Object(g["a"])(v,r,i,!1,null,null,null);t["default"]=b.exports},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),s=n("e8b5"),a=n("861d"),c=n("7b0b"),u=n("50c4"),o=n("8418"),l=n("65f0"),d=n("1dde"),h=n("b622"),m=n("2d00"),p=h("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",g=m>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=d("concat"),y=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},S=!g||!b;r({target:"Array",proto:!0,forced:S},{concat:function(e){var t,n,r,i,s,a=c(this),d=l(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(s=-1===t?a:arguments[t],y(s)){if(i=u(s.length),h+i>f)throw TypeError(v);for(n=0;n<i;n++,h++)n in s&&o(d,h,s[n])}else{if(h>=f)throw TypeError(v);o(d,h++,s)}return d.length=h,d}})},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),s=n("a691"),a=n("50c4"),c=n("7b0b"),u=n("65f0"),o=n("8418"),l=n("1dde"),d=n("ae40"),h=l("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,f=Math.min,v=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!m},{splice:function(e,t){var n,r,l,d,h,m,b=c(this),y=a(b.length),S=i(e,y),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=y-S):(n=_-2,r=f(p(s(t),0),y-S)),y+n-r>v)throw TypeError(g);for(l=u(b,r),d=0;d<r;d++)h=S+d,h in b&&o(l,d,b[h]);if(l.length=r,n<r){for(d=S;d<y-r;d++)h=d+r,m=d+n,h in b?b[m]=b[h]:delete b[m];for(d=y;d>y-r+n;d--)delete b[d-1]}else if(n>r)for(d=y-r;d>S;d--)h=d+r-1,m=d+n-1,h in b?b[m]=b[h]:delete b[m];for(d=0;d<n;d++)b[d+S]=arguments[d+2];return b.length=y-r+n,l}})},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),s=n("5135"),a=Object.defineProperty,c={},u=function(e){throw e};e.exports=function(e,t){if(s(c,e))return c[e];t||(t={});var n=[][e],o=!!s(t,"ACCESSORS")&&t.ACCESSORS,l=s(t,0)?t[0]:u,d=s(t,1)?t[1]:void 0;return c[e]=!!n&&!i((function(){if(o&&!r)return!0;var e={length:-1};o?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,d)}))}},b02d:function(e,t,n){"use strict";n("99af");var r=n("d4ec"),i=n("bee2"),s=n("c427"),a=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"getAll",value:function(){return s["a"].get("/schedules")}},{key:"getCurrent",value:function(){return s["a"].get("/schedules/current").catch((function(){localStorage.setItem("user",null),localStorage.setItem("token",null),window.location.reload()}))}},{key:"get",value:function(e){return s["a"].get("/schedules/".concat(e))}},{key:"publish",value:function(e){return s["a"].post("/schedules/publish/".concat(e))}},{key:"create",value:function(e){return s["a"].post("/schedules",e)}},{key:"update",value:function(e,t){return s["a"].put("/schedules/".concat(e),t)}},{key:"bumpToEnd",value:function(e){return s["a"].post("/schedules/bump",e)}},{key:"deleteUser",value:function(e,t,n){return s["a"].delete("/schedules/".concat(e,"/").concat(t),n)}},{key:"delete",value:function(e){return s["a"].delete("/schedules/".concat(e))}}]),e}();t["a"]=new a},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,s=Function.prototype,a=s.toString,c=/^\s*function ([^ (]*)/,u="name";r&&!(u in s)&&i(s,u,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(e){return""}}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),s=n("7b0b"),a=n("50c4"),c=n("65f0"),u=[].push,o=function(e){var t=1==e,n=2==e,o=3==e,l=4==e,d=6==e,h=5==e||d;return function(m,p,f,v){for(var g,b,y=s(m),S=i(y),_=r(p,f,3),N=a(S.length),w=0,x=v||c,C=t?x(m,N):n?x(m,0):void 0;N>w;w++)if((h||w in S)&&(g=S[w],b=_(g,w,y),e))if(t)C[w]=b;else if(b)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:u.call(C,g)}else if(l)return!1;return d?-1:o||l?l:C}};e.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},c740:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,s=n("44d2"),a=n("ae40"),c="findIndex",u=!0,o=a(c);c in[]&&Array(1)[c]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!o},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s(c)},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-c9f03d3a.20393730.js.map